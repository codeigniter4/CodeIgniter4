<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.19: https://docutils.sourceforge.io/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Deployment &mdash; CodeIgniter 4.6.3 documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="../_static/css/citheme.css" />
      <link rel="stylesheet" type="text/css" href="../_static/css/citheme_dark.css" />

  
    <link rel="shortcut icon" href="../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
        <script src="../_static/js/citheme.js"></script>
        <script src="../_static/js/carbon.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Change Logs" href="../changelogs/index.html" />
    <link rel="prev" title="Troubleshooting" href="troubleshooting.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../index.html">
            
              <img src="../_static/ci-logo-text.svg" class="logo" alt="Logo"/>
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../intro/index.html">Welcome to CodeIgniter4</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../intro/index.html">Welcome to CodeIgniter4</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intro/requirements.html">Server Requirements</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intro/credits.html">Credits</a></li>
<li class="toctree-l2"><a class="reference internal" href="../intro/psr.html">PSR Compliance</a></li>
<li class="toctree-l2"><a class="reference internal" href="../license.html">License Agreement</a></li>
</ul>
</li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Installation</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="installing_composer.html">Composer Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="installing_manual.html">Manual Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="running.html">Running Your App</a></li>
<li class="toctree-l2"><a class="reference internal" href="troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Deployment</a></li>
<li class="toctree-l2"><a class="reference internal" href="../changelogs/index.html">Change Logs</a></li>
<li class="toctree-l2"><a class="reference internal" href="upgrading.html">Upgrading From a Previous Version</a></li>
<li class="toctree-l2"><a class="reference internal" href="repositories.html">CodeIgniter Repositories</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../tutorial/index.html">Build Your First Application</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/static_pages.html">Static Pages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/news_section.html">News Section</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/create_news_items.html">Create News Items</a></li>
<li class="toctree-l2"><a class="reference internal" href="../tutorial/conclusion.html">Conclusion</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../concepts/index.html">CodeIgniter4 Overview</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../concepts/structure.html">Application Structure</a></li>
<li class="toctree-l2"><a class="reference internal" href="../concepts/mvc.html">Models, Views, and Controllers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../concepts/autoloader.html">Autoloading Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../concepts/services.html">Services</a></li>
<li class="toctree-l2"><a class="reference internal" href="../concepts/factories.html">Factories</a></li>
<li class="toctree-l2"><a class="reference internal" href="../concepts/http.html">Working with HTTP Requests</a></li>
<li class="toctree-l2"><a class="reference internal" href="../concepts/security.html">Security Guidelines</a></li>
<li class="toctree-l2"><a class="reference internal" href="../concepts/goals.html">Design and Architectural Goals</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../general/index.html">General Topics</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../general/configuration.html">Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/urls.html">CodeIgniter URLs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/helpers.html">Helper Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/common_functions.html">Global Functions and Constants</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/logging.html">Logging Information</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/errors.html">Error Handling</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/caching.html">Web Page Caching</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/ajax.html">AJAX Requests</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/modules.html">Code Modules</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/managing_apps.html">Managing your Applications</a></li>
<li class="toctree-l2"><a class="reference internal" href="../general/environments.html">Handling Multiple Environments</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../incoming/index.html">Controllers and Routing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../incoming/routing.html">URI Routing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../incoming/controllers.html">Controllers</a></li>
<li class="toctree-l2"><a class="reference internal" href="../incoming/filters.html">Controller Filters</a></li>
<li class="toctree-l2"><a class="reference internal" href="../incoming/auto_routing_improved.html">Auto Routing (Improved)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../incoming/message.html">HTTP Messages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../incoming/request.html">Request Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="../incoming/incomingrequest.html">IncomingRequest Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="../incoming/content_negotiation.html">Content Negotiation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../incoming/methodspoofing.html">HTTP Method Spoofing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../incoming/restful.html">RESTful Resource Handling</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../outgoing/index.html">Building Responses</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../outgoing/views.html">Views</a></li>
<li class="toctree-l2"><a class="reference internal" href="../outgoing/view_renderer.html">View Renderer</a></li>
<li class="toctree-l2"><a class="reference internal" href="../outgoing/view_layouts.html">View Layouts</a></li>
<li class="toctree-l2"><a class="reference internal" href="../outgoing/view_cells.html">View Cells</a></li>
<li class="toctree-l2"><a class="reference internal" href="../outgoing/view_parser.html">View Parser</a></li>
<li class="toctree-l2"><a class="reference internal" href="../outgoing/view_decorators.html">View Decorators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../outgoing/table.html">HTML Table Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="../outgoing/response.html">HTTP Responses</a></li>
<li class="toctree-l2"><a class="reference internal" href="../outgoing/api_responses.html">API Response Trait</a></li>
<li class="toctree-l2"><a class="reference internal" href="../outgoing/csp.html">Content Security Policy</a></li>
<li class="toctree-l2"><a class="reference internal" href="../outgoing/localization.html">Localization</a></li>
<li class="toctree-l2"><a class="reference internal" href="../outgoing/alternative_php.html">Alternate PHP Syntax for View Files</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../database/index.html">Working with Databases</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../database/examples.html">Quick Start: Usage Examples</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/configuration.html">Database Configuration</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/connecting.html">Connecting to a Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/queries.html">Running Queries</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/results.html">Generating Query Results</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/helpers.html">Query Helper Methods</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/query_builder.html">Query Builder Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/transactions.html">Transactions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/metadata.html">Getting Metadata</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/call_function.html">Custom Function Calls</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/events.html">Database Events</a></li>
<li class="toctree-l2"><a class="reference internal" href="../database/utilities.html">Database Utilities</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../models/index.html">Modeling Data</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../models/model.html">Using CodeIgniter's Model</a></li>
<li class="toctree-l2"><a class="reference internal" href="../models/entities.html">Using Entity Classes</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../dbmgmt/index.html">Managing Databases</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../dbmgmt/forge.html">Database Forge</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dbmgmt/migration.html">Database Migrations</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dbmgmt/seeds.html">Database Seeding</a></li>
<li class="toctree-l2"><a class="reference internal" href="../dbmgmt/db_commands.html">Database Commands</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../libraries/index.html">Library Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../libraries/caching.html">Caching Driver</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/cookies.html">Cookies</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/cors.html">Cross-Origin Resource Sharing (CORS)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/curlrequest.html">CURLRequest Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/email.html">Email Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/encryption.html">Encryption Service</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/files.html">Working with Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/file_collections.html">File Collections</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/honeypot.html">Honeypot Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/images.html">Image Manipulation Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/pagination.html">Pagination</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/publisher.html">Publisher</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/security.html">Security</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/sessions.html">Session Library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/throttler.html">Throttler</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/time.html">Times and Dates</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/typography.html">Typography</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/uploaded_files.html">Working with Uploaded Files</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/uri.html">Working with URIs</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/user_agent.html">User Agent Class</a></li>
<li class="toctree-l2"><a class="reference internal" href="../libraries/validation.html">Validation</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../helpers/index.html">Helpers</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../helpers/array_helper.html">Array Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/cookie_helper.html">Cookie Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/date_helper.html">Date Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/filesystem_helper.html">Filesystem Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/form_helper.html">Form Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/html_helper.html">HTML Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/inflector_helper.html">Inflector Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/number_helper.html">Number Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/security_helper.html">Security Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/test_helper.html">Test Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/text_helper.html">Text Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/url_helper.html">URL Helper</a></li>
<li class="toctree-l2"><a class="reference internal" href="../helpers/xml_helper.html">XML Helper</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../testing/index.html">Testing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../testing/overview.html">Getting Started</a></li>
<li class="toctree-l2"><a class="reference internal" href="../testing/database.html">Database</a></li>
<li class="toctree-l2"><a class="reference internal" href="../testing/fabricator.html">Generating Data</a></li>
<li class="toctree-l2"><a class="reference internal" href="../testing/controllers.html">Controller Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../testing/feature.html">HTTP Testing</a></li>
<li class="toctree-l2"><a class="reference internal" href="../testing/response.html">Testing Responses</a></li>
<li class="toctree-l2"><a class="reference internal" href="../testing/cli.html">Testing CLI Commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="../testing/mocking.html">Mocking</a></li>
<li class="toctree-l2"><a class="reference internal" href="../testing/benchmark.html">Benchmarking</a></li>
<li class="toctree-l2"><a class="reference internal" href="../testing/debugging.html">Debugging Your Application</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../cli/index.html">Command Line Usage</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../cli/cli_overview.html">CLI Overview</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli/cli_controllers.html">Running Controllers via CLI</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli/spark_commands.html">Spark Commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli/cli_commands.html">Creating Spark Commands</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli/cli_generators.html">CLI Generators</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli/cli_library.html">CLI Library</a></li>
<li class="toctree-l2"><a class="reference internal" href="../cli/cli_request.html">CLIRequest Class</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../extending/index.html">Extending CodeIgniter</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../extending/core_classes.html">Creating Core System Classes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../extending/common.html">Replacing Common Functions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../extending/events.html">Events</a></li>
<li class="toctree-l2"><a class="reference internal" href="../extending/basecontroller.html">Extending the Controller</a></li>
<li class="toctree-l2"><a class="reference internal" href="../extending/authentication.html">Authentication</a></li>
<li class="toctree-l2"><a class="reference internal" href="../extending/composer_packages.html">Creating Composer Packages</a></li>
<li class="toctree-l2"><a class="reference internal" href="../extending/contributing.html">Contributing to CodeIgniter</a></li>
</ul>
</li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../libraries/official_packages.html">Official Packages</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">CodeIgniter</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
<a class="btn btn-neutral float-right" href="https://github.com/codeigniter4/CodeIgniter4/edit/develop/user_guide_src/source/installation/deployment.rst">Edit this page</a>

          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="index.html">Installation</a></li>
      <li class="breadcrumb-item active">Deployment</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="deployment">
<h1>Deployment<a class="headerlink" href="#deployment" title="Permalink to this heading"></a></h1>
<nav class="contents local" id="contents">
<ul class="simple">
<li><p><a class="reference internal" href="#optimization" id="id3">Optimization</a></p>
<ul>
<li><p><a class="reference internal" href="#spark-optimize" id="id4">spark optimize</a></p></li>
<li><p><a class="reference internal" href="#composer-optimization" id="id5">Composer Optimization</a></p>
<ul>
<li><p><a class="reference internal" href="#removing-dev-packages" id="id6">Removing Dev Packages</a></p></li>
<li><p><a class="reference internal" href="#specifying-packages-to-discover" id="id7">Specifying Packages to Discover</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#config-caching" id="id8">Config Caching</a></p></li>
<li><p><a class="reference internal" href="#filelocator-caching" id="id9">FileLocator Caching</a></p></li>
<li><p><a class="reference internal" href="#php-preloading" id="id10">PHP Preloading</a></p>
<ul>
<li><p><a class="reference internal" href="#requirement" id="id11">Requirement</a></p></li>
<li><p><a class="reference internal" href="#configuration" id="id12">Configuration</a></p></li>
</ul>
</li>
</ul>
</li>
<li><p><a class="reference internal" href="#deployment-to-shared-hosting-services" id="id13">Deployment to Shared Hosting Services</a></p>
<ul>
<li><p><a class="reference internal" href="#specifying-the-document-root" id="id14">Specifying the Document Root</a></p></li>
<li><p><a class="reference internal" href="#using-two-directories" id="id15">Using Two Directories</a></p></li>
<li><p><a class="reference internal" href="#adding-htaccess" id="id16">Adding .htaccess</a></p></li>
</ul>
</li>
</ul>
</nav>
<section id="optimization">
<h2><a class="toc-backref" href="#id3" role="doc-backlink">Optimization</a><a class="headerlink" href="#optimization" title="Permalink to this heading"></a></h2>
<p>Before deploying your CodeIgniter application to production, there are several
things you can do to make your application run more efficiently.</p>
<p>This section describes the optimization features that CodeIgniter provides.</p>
<section id="spark-optimize">
<span id="id1"></span><h3><a class="toc-backref" href="#id4" role="doc-backlink">spark optimize</a><a class="headerlink" href="#spark-optimize" title="Permalink to this heading"></a></h3>
<div class="versionadded">
<p><span class="versionmodified added">New in version 4.5.0.</span></p>
</div>
<p>The <code class="docutils literal notranslate"><span class="pre">spark</span> <span class="pre">optimize</span></code> command performs the following optimizations:</p>
<ul class="simple">
<li><p><a class="reference internal" href="#removing-dev-packages">Removing Dev Packages</a></p></li>
<li><p>Enabling <a class="reference internal" href="#config-caching">Config Caching</a></p></li>
<li><p>Enabling <a class="reference internal" href="#filelocator-caching">FileLocator Caching</a></p></li>
</ul>
</section>
<section id="composer-optimization">
<h3><a class="toc-backref" href="#id5" role="doc-backlink">Composer Optimization</a><a class="headerlink" href="#composer-optimization" title="Permalink to this heading"></a></h3>
<section id="removing-dev-packages">
<h4><a class="toc-backref" href="#id6" role="doc-backlink">Removing Dev Packages</a><a class="headerlink" href="#removing-dev-packages" title="Permalink to this heading"></a></h4>
<p>When you deploy, don’t forget to run the following command:</p>
<div class="highlight-console notranslate"><div class="highlight"><pre><span></span><span class="go">composer install --no-dev</span>
</pre></div>
</div>
<p>The above command will remove the Composer packages only for development
that are not needed in the production environment. This will greatly reduce
the vendor folder size.</p>
</section>
<section id="specifying-packages-to-discover">
<h4><a class="toc-backref" href="#id7" role="doc-backlink">Specifying Packages to Discover</a><a class="headerlink" href="#specifying-packages-to-discover" title="Permalink to this heading"></a></h4>
<p>If Composer Package Auto-Discovery is enabled, all Composer packages are scanned
when needed. But there is no need to scan packages that are not CodeIgniter packages,
so specifying the packages to be scanned prevents unnecessary scanning.</p>
<p>See <a class="reference internal" href="../general/modules.html#modules-specify-composer-packages"><span class="std std-ref">Specify Composer Packages</span></a>.</p>
</section>
</section>
<section id="config-caching">
<h3><a class="toc-backref" href="#id8" role="doc-backlink">Config Caching</a><a class="headerlink" href="#config-caching" title="Permalink to this heading"></a></h3>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p>Once cached, configuration values are never changed until the cache
is deleted, even if the configuration file or <strong>.env</strong> is changed.</p>
</div>
<p>Caching the Config objects can improve performance. However, the cache must be
manually deleted when changing Config values.</p>
<p>See <a class="reference internal" href="../concepts/factories.html#factories-config-caching"><span class="std std-ref">Config Caching</span></a>.</p>
</section>
<section id="filelocator-caching">
<h3><a class="toc-backref" href="#id9" role="doc-backlink">FileLocator Caching</a><a class="headerlink" href="#filelocator-caching" title="Permalink to this heading"></a></h3>
<p>Caching the file paths that FileLocator found can improve performance. However,
the cache must be manually deleted when adding/deleting/changing file paths.</p>
<p>See <a class="reference internal" href="../concepts/autoloader.html#file-locator-caching"><span class="std std-ref">FileLocator Caching</span></a>.</p>
</section>
<section id="php-preloading">
<h3><a class="toc-backref" href="#id10" role="doc-backlink">PHP Preloading</a><a class="headerlink" href="#php-preloading" title="Permalink to this heading"></a></h3>
<p>With PHP preloading, you can instruct the server to load essential files like functions and classes into memory during startup.
This means these elements are readily available for all requests, skipping the usual loading process and boosting your
application’s performance. However, this comes at the cost of increased memory usage and requires restarting the
PHP engine for changes to take effect.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>If you want to use <a class="reference external" href="https://www.php.net/manual/en/opcache.preloading.php">Preloading</a>,
we provide a <a class="reference external" href="https://github.com/codeigniter4/CodeIgniter4/blob/develop/preload.php">preload script</a>.</p>
</div>
<section id="requirement">
<h4><a class="toc-backref" href="#id11" role="doc-backlink">Requirement</a><a class="headerlink" href="#requirement" title="Permalink to this heading"></a></h4>
<p>Using preloading requires one dedicated PHP handler. Normally, web servers are configured to use one PHP handler, so one app requires a dedicated web server.
If you want to use preloading for multiple apps on one web server, configure your server to use virtual hosts with multiple PHP handlers like multiple PHP-FPMs, with each virtual host using one PHP handler.
Preloading keeps the relevant definitions in memory by reading the files specified in <code class="docutils literal notranslate"><span class="pre">opcache.preload</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p>See <a class="reference internal" href="../general/managing_apps.html#running-multiple-app"><span class="std std-ref">Running Multiple Applications with one CodeIgniter Installation</span></a> to make one core CodeIgniter4 to handle your multiple apps.</p>
</div>
</section>
<section id="configuration">
<h4><a class="toc-backref" href="#id12" role="doc-backlink">Configuration</a><a class="headerlink" href="#configuration" title="Permalink to this heading"></a></h4>
<p>Open <code class="docutils literal notranslate"><span class="pre">php.ini</span></code> or <code class="docutils literal notranslate"><span class="pre">xx-opcache.ini</span></code> if you have split INI configuration in PHP, and recommend to set <code class="docutils literal notranslate"><span class="pre">opcache.preload=/path/to/preload.php</span></code> and <code class="docutils literal notranslate"><span class="pre">opcache.preload_user=myuser</span></code>.</p>
<div class="admonition note">
<p class="admonition-title">Note</p>
<p><code class="docutils literal notranslate"><span class="pre">myuser</span></code> is user running in your web server. If you want to find the location of the split INI configuration, just run <code class="docutils literal notranslate"><span class="pre">php</span> <span class="pre">--ini</span></code> or open file <code class="docutils literal notranslate"><span class="pre">phpinfo()</span></code> and search <em>Additional .ini files parsed</em>.</p>
</div>
<p>Make sure you use the appstarter installation. If using manual installation, you must change the directory in <code class="docutils literal notranslate"><span class="pre">include</span></code> path.</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="o">&lt;?</span><span class="nx">php</span>

<span class="c1">// ...</span>

<span class="k">class</span> <span class="nc">preload</span>
<span class="p">{</span>
    <span class="sd">/**</span>
<span class="sd">     * @var array Paths to preload.</span>
<span class="sd">     */</span>
    <span class="k">private</span> <span class="k">array</span> <span class="nv">$paths</span> <span class="o">=</span> <span class="p">[</span>
        <span class="p">[</span>
            <span class="s1">&#39;include&#39;</span> <span class="o">=&gt;</span> <span class="no">__DIR__</span> <span class="o">.</span> <span class="s1">&#39;/system&#39;</span><span class="p">,</span> <span class="c1">// &lt;== change this line to where CI is installed</span>
            <span class="c1">// ...</span>
        <span class="p">],</span>
    <span class="p">];</span>

    <span class="c1">// ...</span>
<span class="p">}</span>

<span class="c1">// ...</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="deployment-to-shared-hosting-services">
<span id="id2"></span><h2><a class="toc-backref" href="#id13" role="doc-backlink">Deployment to Shared Hosting Services</a><a class="headerlink" href="#deployment-to-shared-hosting-services" title="Permalink to this heading"></a></h2>
<div class="admonition important">
<p class="admonition-title">Important</p>
<p><strong>index.php</strong> is no longer in the root of the project! It has been moved inside
the <strong>public</strong> folder, for better security and separation of components.</p>
<p>This means that you should configure your web server to “point” to your project’s
<strong>public</strong> folder, and not to the project root.</p>
</div>
<section id="specifying-the-document-root">
<h3><a class="toc-backref" href="#id14" role="doc-backlink">Specifying the Document Root</a><a class="headerlink" href="#specifying-the-document-root" title="Permalink to this heading"></a></h3>
<p>The best way is to set the document root to the <strong>public</strong> folder in the server
configuration:</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nx">└──</span> <span class="nx">example</span><span class="o">.</span><span class="nx">com</span><span class="o">/</span> <span class="p">(</span><span class="nx">project</span> <span class="nx">folder</span><span class="p">)</span>
    <span class="nx">└──</span> <span class="k">public</span><span class="o">/</span>  <span class="p">(</span><span class="nx">document</span> <span class="nx">root</span><span class="p">)</span>
</pre></div>
</div>
<p>Check with your hosting service provider to see if you can change the document root.
Unfortunately, if you cannot change the document root, go to the next way.</p>
</section>
<section id="using-two-directories">
<h3><a class="toc-backref" href="#id15" role="doc-backlink">Using Two Directories</a><a class="headerlink" href="#using-two-directories" title="Permalink to this heading"></a></h3>
<p>The second way is to use two directories, and adjust the path.
One is for the application and the other is the default document root.</p>
<p>Upload the contents of the <strong>public</strong> folder to <strong>public_html</strong> (the default
document root) and the other files to the directory for the application:</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nx">├──</span> <span class="nx">example</span><span class="o">.</span><span class="nx">com</span><span class="o">/</span> <span class="p">(</span><span class="k">for</span> <span class="nx">the</span> <span class="nx">application</span><span class="p">)</span>
<span class="nx">│</span>       <span class="nx">├──</span> <span class="nx">app</span><span class="o">/</span>
<span class="nx">│</span>       <span class="nx">├──</span> <span class="nx">vendor</span><span class="o">/</span> <span class="p">(</span><span class="k">or</span> <span class="nb">system</span><span class="o">/</span><span class="p">)</span>
<span class="nx">│</span>       <span class="nx">└──</span> <span class="nx">writable</span><span class="o">/</span>
<span class="nx">└──</span> <span class="nx">public_html</span><span class="o">/</span> <span class="p">(</span><span class="nx">the</span> <span class="k">default</span> <span class="nx">document</span> <span class="nx">root</span><span class="p">)</span>
        <span class="nx">├──</span> <span class="o">.</span><span class="nx">htaccess</span>
        <span class="nx">├──</span> <span class="nx">favicon</span><span class="o">.</span><span class="nx">ico</span>
        <span class="nx">├──</span> <span class="nx">index</span><span class="o">.</span><span class="nx">php</span>
        <span class="nx">└──</span> <span class="nx">robots</span><span class="o">.</span><span class="nx">txt</span>
</pre></div>
</div>
<p>See
<a class="reference external" href="https://forum.codeigniter.com/showthread.php?tid=76779">Install CodeIgniter 4 on Shared Hosting (cPanel)</a>
for details.</p>
</section>
<section id="adding-htaccess">
<h3><a class="toc-backref" href="#id16" role="doc-backlink">Adding .htaccess</a><a class="headerlink" href="#adding-htaccess" title="Permalink to this heading"></a></h3>
<p>The last resort is to add <strong>.htaccess</strong> to the project root.</p>
<p>It is not recommended that you place the project folder in the document root.
However, if you have no other choice, you can use this.</p>
<p>Place your project folder as follows, where <strong>public_html</strong> is the document root,
and create the <strong>.htaccess</strong> file:</p>
<div class="highlight-html+php notranslate"><div class="highlight"><pre><span></span><span class="nx">└──</span> <span class="nx">public_html</span><span class="o">/</span>     <span class="p">(</span><span class="nx">the</span> <span class="k">default</span> <span class="nx">document</span> <span class="nx">root</span><span class="p">)</span>
    <span class="nx">└──</span> <span class="nx">example</span><span class="o">.</span><span class="nx">com</span><span class="o">/</span> <span class="p">(</span><span class="nx">project</span> <span class="nx">folder</span><span class="p">)</span>
        <span class="nx">├──</span> <span class="o">.</span><span class="nx">htaccess</span>
        <span class="nx">└──</span> <span class="k">public</span><span class="o">/</span>
</pre></div>
</div>
<p>And edit <strong>.htaccess</strong> as follows:</p>
<div class="highlight-apache notranslate"><div class="highlight"><pre><span></span><span class="nt">&lt;IfModule</span><span class="w"> </span><span class="s">mod_rewrite.c</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nb">RewriteEngine</span><span class="w"> </span><span class="k">On</span>
<span class="w">    </span><span class="nb">RewriteRule</span><span class="w"> </span>^(.*)$<span class="w"> </span>public/$1<span class="w"> </span>[L]
<span class="nt">&lt;/IfModule&gt;</span>

<span class="nt">&lt;FilesMatch</span><span class="w"> </span><span class="s">&quot;^\.&quot;</span><span class="nt">&gt;</span>
<span class="w">    </span><span class="nb">Require</span><span class="w"> </span><span class="k">all</span><span class="w"> </span>denied
<span class="w">    </span><span class="nb">Satisfy</span><span class="w"> </span><span class="k">All</span>
<span class="nt">&lt;/FilesMatch&gt;</span>
</pre></div>
</div>
<p>And remove the redirect settings in <strong>public/.htaccess</strong>:</p>
<div class="highlight-diff notranslate"><div class="highlight"><pre><span></span><span class="gd">--- a/public/.htaccess</span>
<span class="gi">+++ b/public/.htaccess</span>
<span class="gu">@@ -16,16 +16,6 @@ Options -Indexes</span>
<span class="w"> </span>   # http://httpd.apache.org/docs/current/mod/mod_rewrite.html#rewritebase
<span class="w"> </span>   # RewriteBase /

<span class="gd">-   # Redirect Trailing Slashes...</span>
<span class="gd">-   RewriteCond %{REQUEST_FILENAME} !-d</span>
<span class="gd">-   RewriteCond %{REQUEST_URI} (.+)/$</span>
<span class="gd">-   RewriteRule ^ %1 [L,R=301]</span>
<span class="gd">-</span>
<span class="gd">-   # Rewrite &quot;www.example.com -&gt; example.com&quot;</span>
<span class="gd">-   RewriteCond %{HTTPS} !=on</span>
<span class="gd">-   RewriteCond %{HTTP_HOST} ^www\.(.+)$ [NC]</span>
<span class="gd">-   RewriteRule ^ http://%1%{REQUEST_URI} [R=301,L]</span>
<span class="gd">-</span>
<span class="w"> </span>   # Checks to see if the user is attempting to access a valid file,
<span class="w"> </span>   # such as an image or css document, if this isn&#39;t true it sends the
<span class="w"> </span>   # request to the front controller, index.php
</pre></div>
</div>
</section>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="troubleshooting.html" class="btn btn-neutral float-left" title="Troubleshooting" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../changelogs/index.html" class="btn btn-neutral float-right" title="Change Logs" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2019-2025 CodeIgniter Foundation.
      <span class="lastupdated">Last updated on Nov 21, 2025.
      </span></p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(false);
      });
  </script> 

</body>
</html>